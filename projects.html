<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>projects - matthew h zhang</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Doto:wght@900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: white;
            font-family: Consolas, Menlo, Monaco, 'Courier New', monospace;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .title-block {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: fit-content;
            margin: 0 auto;
            transform-origin: center center;
            transition: transform 0.3s ease-out;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 120px;
        }

        .header h1 {
            display: none;
        }

        .split-flap-container {
            display: flex;
            gap: 4px;
            flex-wrap: nowrap;
            justify-content: center;
            padding: 20px;
            padding-bottom: 0;
            width: max-content;
            transform-origin: center center;
            transition: transform 0.3s ease-out;
        }

        .flap-container {
            width: 50px;
            height: 70px;
            position: relative;
            perspective: 500px;
        }

        .flap {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
        }

        .flap-half {
            width: 100%;
            height: 50%;
            position: absolute;
            left: 0;
            overflow: hidden;
            background: #2a2a2a;
            border: 2px solid #1a1a1a;
        }

        .flap-top {
            top: 0;
            border-radius: 4px 4px 0 0;
        }

        .flap-bottom {
            bottom: 0;
            border-radius: 0 0 4px 4px;
        }

        .flap-content {
            width: 100%;
            height: 200%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            font-weight: bold;
            color: #e0e0e0;
            position: absolute;
            left: 0;
            line-height: 1;
            padding-bottom: 4px;
        }

        .flap-top .flap-content {
            top: 0;
            transform: translateY(0);
        }

        .flap-bottom .flap-content {
            bottom: 0;
            transform: translateY(0);
        }

        .flap-flip {
            width: 100%;
            height: 50%;
            position: absolute;
            left: 0;
            top: 0;
            transform-origin: bottom;
            transform-style: preserve-3d;
            animation: flip 0.6s ease-in-out;
            z-index: 2;
        }

        @keyframes flip {
            0% {
                transform: rotateX(0deg);
            }
            100% {
                transform: rotateX(-180deg);
            }
        }

        .flap-flip .flap-content {
            width: 100%;
            height: 200%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            font-weight: bold;
            color: #e0e0e0;
            position: absolute;
            left: 0;
            top: 0;
            background: #2a2a2a;
            border: 2px solid #1a1a1a;
            border-radius: 4px 4px 0 0;
            backface-visibility: hidden;
            line-height: 1;
            padding-bottom: 4px;
        }

        .space {
            width: 20px;
        }

        .filters {
            display: flex;
            justify-content: center;
            gap: 22px;
            margin: -4px auto 36px;
            width: fit-content;
            background: rgba(160, 160, 160, 0.3);
            padding: 8px 26px;
            border-radius: 8px;
        }

        .filter-btn {
            font-family: Consolas, Menlo, Monaco, 'Courier New', monospace;
            font-size: 18px;
            font-weight: 900;
            background: none;
            border: none;
            color: #888888;
            cursor: pointer;
            transition: color 0.3s ease, text-shadow 0.3s ease;
            line-height: 1;
            padding: 4px 10px;
            position: relative;
            text-transform: uppercase;
            text-shadow: none;
        }

        .filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: transparent;
            border-radius: 8px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .filter-btn:hover {
            color: #FEC94A;
            text-shadow: none;
        }

        .filter-btn:hover::before {
            opacity: 0;
        }

        .filter-btn.active {
            color: #444444;
            text-shadow: none;
        }

        .filter-btn.active::before {
            opacity: 0;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 60px 40px;
            margin-bottom: 60px;
            max-width: 1100px;
            margin-left: auto;
            margin-right: auto;
        }

        .project {
            text-align: center;
            padding: 20px;
            border: 2px solid transparent;
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .project::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid #999;
            border-radius: 8px;
            opacity: 0;
            filter: blur(0.5px);
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E");
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .project:hover::before {
            opacity: 1;
        }

        .project a {
            text-decoration: none;
            color: inherit;
            display: block;
            position: relative;
            z-index: 1;
        }

        .project-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 2px;
            min-height: 50px;
        }

        .project-image {
            width: 100%;
            height: 200px;
            background: transparent;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .project-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .project-progress {
            font-weight: bold;
            margin-bottom: 8px;
        }

        .project-description {
            font-size: 14px;
            line-height: 1.4;
            color: #333;
            margin-bottom: 8px;
        }

        .project-date {
            font-size: 14px;
            color: #666;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 30px;
            font-size: 16px;
            color: #0066cc;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }


        @media (max-width: 1199px) {
            .projects-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 899px) {
            .projects-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 599px) {
            .header h1 {
                font-size: 48px;
            }

            .projects-grid {
                grid-template-columns: 1fr;
                gap: 40px 30px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back</a>

        <div class="title-block">
            <div class="header">
                <h1>PROJECTS</h1>
                <div class="split-flap-container" id="splitFlapTitle"></div>
            </div>

            <div class="filters">
                <button class="filter-btn active" data-sort="date">Date</button>
                <button class="filter-btn" data-sort="name">Name</button>
                <button class="filter-btn" data-sort="progress">Progress</button>
                <button class="filter-btn" data-sort="random">Random</button>
            </div>
        </div>

        <div class="projects-grid" id="projectsGrid">
            <!-- Project 1 -->
            <div class="project" data-date="2025-11-08" data-name="Project Title 1" data-progress="Complete">
                <a href="https://matthewhzhang.notion.site/ebd//303ce3e0547e80b5998bf7148dd8f1b8">
                    <div class="project-title">Wall Projector Pen</div>
                    <div class="project-image">
                        <img src="lightpenv2.png" alt="Wall Projector Pen">
                    </div>
                    <div class="project-progress">Progress: Complete</div>
                    <div class="project-description">Wished my whiteboard were larger</div>
                    <div class="project-date">19 Oct 2025</div>
                </a>
            </div>

            <!-- Project 2 -->
            <div class="project" data-date="2025-10-29" data-name="Project Title 2" data-progress="Complete">
                <a href="#project2">
                    <div class="project-title">Project Title 2</div>
                    <div class="project-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23f0f0f0' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='14' fill='%23999'%3EProject Image%3C/text%3E%3C/svg%3E" alt="Project 2">
                    </div>
                    <div class="project-progress">Progress: Complete</div>
                    <div class="project-description">Another project description goes here</div>
                    <div class="project-date">29 Oct 2025</div>
                </a>
            </div>

            <!-- Project 3 -->
            <div class="project" data-date="2025-05-31" data-name="Project Title 3" data-progress="Complete">
                <a href="#project3">
                    <div class="project-title">Project Title 3</div>
                    <div class="project-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23f0f0f0' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='14' fill='%23999'%3EProject Image%3C/text%3E%3C/svg%3E" alt="Project 3">
                    </div>
                    <div class="project-progress">Progress: Complete</div>
                    <div class="project-description">Description with some details about the project</div>
                    <div class="project-date">31 May 2025</div>
                </a>
            </div>

            <!-- Project 4 -->
            <div class="project" data-date="2025-04-24" data-name="Project Title 4" data-progress="In Progress">
                <a href="#project4">
                    <div class="project-title">Project Title 4</div>
                    <div class="project-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23f0f0f0' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='14' fill='%23999'%3EProject Image%3C/text%3E%3C/svg%3E" alt="Project 4">
                    </div>
                    <div class="project-progress">Progress: In Progress</div>
                    <div class="project-description">A short description</div>
                    <div class="project-date">24 Apr 2025</div>
                </a>
            </div>

            <!-- Project 5 -->
            <div class="project" data-date="2025-01-13" data-name="Project Title 5" data-progress="Complete">
                <a href="#project5">
                    <div class="project-title">Project Title 5</div>
                    <div class="project-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23f0f0f0' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='14' fill='%23999'%3EProject Image%3C/text%3E%3C/svg%3E" alt="Project 5">
                    </div>
                    <div class="project-progress">Progress: Complete</div>
                    <div class="project-description">Project description here</div>
                    <div class="project-date">13 Jan 2025</div>
                </a>
            </div>

            <!-- Project 6 -->
            <div class="project" data-date="2024-07-31" data-name="Project Title 6" data-progress="Complete">
                <a href="#project6">
                    <div class="project-title">Project Title 6</div>
                    <div class="project-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23f0f0f0' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='14' fill='%23999'%3EProject Image%3C/text%3E%3C/svg%3E" alt="Project 6">
                    </div>
                    <div class="project-progress">Progress: Complete</div>
                    <div class="project-description">Brief project description</div>
                    <div class="project-date">31 Jul 2024</div>
                </a>
            </div>

            <!-- Project 7 -->
            <div class="project" data-date="2024-07-07" data-name="Project Title 7" data-progress="Planning">
                <a href="#project7">
                    <div class="project-title">Project Title 7</div>
                    <div class="project-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23f0f0f0' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='14' fill='%23999'%3EProject Image%3C/text%3E%3C/svg%3E" alt="Project 7">
                    </div>
                    <div class="project-progress">Progress: Planning</div>
                    <div class="project-description">Description of project</div>
                    <div class="project-date">7 Jul 2024</div>
                </a>
            </div>

            <!-- Project 8 -->
            <div class="project" data-date="2024-04-01" data-name="Project Title 8" data-progress="Complete">
                <a href="#project8">
                    <div class="project-title">Project Title 8</div>
                    <div class="project-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23f0f0f0' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='14' fill='%23999'%3EProject Image%3C/text%3E%3C/svg%3E" alt="Project 8">
                    </div>
                    <div class="project-progress">Progress: Complete</div>
                    <div class="project-description">Another description</div>
                    <div class="project-date">1 Apr 2024</div>
                </a>
            </div>
        </div>
    </div>

    <script>
        // Split-flap animation
        const startText = "hardware";
        const targetText = "projects";
        const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ:&abcdefghijklmnopqrstuvwxyz";
        const splitFlapTitle = document.getElementById('splitFlapTitle');

        function createFlap(startChar, finalChar, index) {
            const container = document.createElement('div');
            
            if (finalChar === ' ') {
                container.className = 'space';
                return container;
            }
            
            container.className = 'flap-container';
            container.dataset.targetChar = finalChar;
            container.dataset.currentChar = startChar;
            
            const flap = document.createElement('div');
            flap.className = 'flap';
            
            const topHalf = document.createElement('div');
            topHalf.className = 'flap-half flap-top';
            const topContent = document.createElement('div');
            topContent.className = 'flap-content';
            topContent.textContent = startChar;
            topHalf.appendChild(topContent);
            
            const bottomHalf = document.createElement('div');
            bottomHalf.className = 'flap-half flap-bottom';
            const bottomContent = document.createElement('div');
            bottomContent.className = 'flap-content';
            bottomContent.textContent = startChar;
            bottomHalf.appendChild(bottomContent);
            
            flap.appendChild(topHalf);
            flap.appendChild(bottomHalf);
            container.appendChild(flap);
            
            return container;
        }

        function updateStaticFlaps(char) {
            const topContent = this.querySelector('.flap-top .flap-content');
            const bottomContent = this.querySelector('.flap-bottom .flap-content');
            if (topContent) topContent.textContent = char;
            if (bottomContent) bottomContent.textContent = char;
        }

        function getCharSequence(startChar, endChar) {
            const startCode = startChar.charCodeAt(0);
            const endCode = endChar.charCodeAt(0);
            const sequence = [];
            const distance = Math.abs(endCode - startCode);
            const skipAmount = distance > 30 ? 3 : 1;
            
            if (startCode < endCode) {
                for (let i = startCode; i <= endCode; i += skipAmount) {
                    sequence.push(String.fromCharCode(i));
                }
                if (sequence[sequence.length - 1] !== endChar) {
                    sequence.push(endChar);
                }
            } else {
                for (let i = startCode; i >= endCode; i -= skipAmount) {
                    sequence.push(String.fromCharCode(i));
                }
                if (sequence[sequence.length - 1] !== endChar) {
                    sequence.push(endChar);
                }
            }
            
            return sequence;
        }

        function animateFlap(container, startChar, finalChar) {
            const sequence = getCharSequence(startChar, finalChar);
            const baseFlipDuration = 250;
            let flipIndex = 0;
            
            function getFlipDuration(index, total) {
                const progress = index / Math.max(total - 1, 1);
                
                if (progress < 0.3) {
                    const easeProgress = progress / 0.3;
                    return baseFlipDuration * (1 - easeProgress * 0.6);
                } else if (progress > 0.7) {
                    const easeProgress = (progress - 0.7) / 0.3;
                    return baseFlipDuration * (0.4 + easeProgress * 0.6);
                } else {
                    return baseFlipDuration * 0.4;
                }
            }
            
            function flip() {
                if (flipIndex >= sequence.length) {
                    return;
                }
                
                const currentChar = sequence[flipIndex];
                const duration = getFlipDuration(flipIndex, sequence.length);
                
                const flipElement = document.createElement('div');
                flipElement.className = 'flap-flip';
                flipElement.style.animation = `flip ${duration}ms ease-in-out`;
                
                const content = document.createElement('div');
                content.className = 'flap-content';
                content.textContent = currentChar;
                
                flipElement.appendChild(content);
                container.appendChild(flipElement);
                
                updateStaticFlaps.call(container, currentChar);
                
                setTimeout(() => {
                    flipElement.remove();
                }, duration);
                
                flipIndex++;
                
                if (flipIndex < sequence.length) {
                    setTimeout(flip, duration);
                }
            }
            
            flip();
        }

        // Build split-flap display
        const flapContainers = [];
        targetText.split('').forEach((char, index) => {
            const startChar = startText[index] || 'a';
            const container = createFlap(startChar, char, index);
            flapContainers.push(container);
            splitFlapTitle.appendChild(container);
        });

        // Start animation after delay
        setTimeout(() => {
            flapContainers.forEach((container, index) => {
                const startChar = startText[index] || 'a';
                const finalChar = targetText[index];
                if (finalChar !== ' ') {
                    setTimeout(() => {
                        animateFlap(container, startChar, finalChar);
                    }, index * 50);
                }
            });
        }, 200);

        // Dynamic scaling for split-flap + filters (match index.html ratios)
        function updateTitleBlockScale() {
            const titleBlock = document.querySelector('.title-block');
            if (!titleBlock) return;

            // Get the natural width of the title block (unscaled)
            const tempScale = titleBlock.style.transform;
            titleBlock.style.transform = 'scale(1)';
            const naturalWidth = titleBlock.scrollWidth;
            titleBlock.style.transform = tempScale || '';

            // Get viewport width with some padding
            const viewportWidth = window.innerWidth - 40; // 20px padding on each side

            // Calculate scale based on viewport, capped at 0.75 for full screen
            const scale = Math.min(0.75, viewportWidth / naturalWidth);

            // Apply the scale
            titleBlock.style.transform = `scale(${scale})`;
        }

        // Update scale on load and resize
        window.addEventListener('load', updateTitleBlockScale);
        window.addEventListener('resize', updateTitleBlockScale);

        // Initial scale update
        setTimeout(updateTitleBlockScale, 100);

        // Project sorting functionality
        const filterButtons = document.querySelectorAll('.filter-btn');
        const projectsGrid = document.getElementById('projectsGrid');
        let projects = Array.from(document.querySelectorAll('.project'));

        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons
                filterButtons.forEach(btn => btn.classList.remove('active'));
                // Add active class to clicked button
                button.classList.add('active');

                const sortType = button.dataset.sort;
                sortProjects(sortType);
            });
        });

        function sortProjects(sortType) {
            // Store initial positions
            const initialPositions = projects.map(project => {
                const rect = project.getBoundingClientRect();
                return {
                    element: project,
                    top: rect.top,
                    left: rect.left
                };
            });

            let sortedProjects;

            switch(sortType) {
                case 'date':
                    sortedProjects = projects.sort((a, b) => {
                        return new Date(b.dataset.date) - new Date(a.dataset.date);
                    });
                    break;
                case 'name':
                    sortedProjects = projects.sort((a, b) => {
                        return a.dataset.name.localeCompare(b.dataset.name);
                    });
                    break;
                case 'progress':
                    sortedProjects = projects.sort((a, b) => {
                        return a.dataset.progress.localeCompare(b.dataset.progress);
                    });
                    break;
                case 'random':
                    sortedProjects = projects.sort(() => Math.random() - 0.5);
                    break;
                default:
                    sortedProjects = projects;
            }

            // Clear and re-append in new order
            projectsGrid.innerHTML = '';
            sortedProjects.forEach(project => {
                projectsGrid.appendChild(project);
            });

            // Get final positions
            const finalPositions = sortedProjects.map(project => {
                const rect = project.getBoundingClientRect();
                return {
                    element: project,
                    top: rect.top,
                    left: rect.left
                };
            });

            // Animate from initial to final positions
            sortedProjects.forEach((project, index) => {
                const initial = initialPositions.find(p => p.element === project);
                const final = finalPositions[index];

                if (initial) {
                    const deltaX = initial.left - final.left;
                    const deltaY = initial.top - final.top;

                    // Set initial position
                    project.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
                    project.style.transition = 'none';

                    // Force reflow
                    project.offsetHeight;

                    // Animate to final position
                    project.style.transition = 'transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                    project.style.transform = 'translate(0, 0)';
                }
            });
        }
    </script>
</body>
</html>
